<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSSåŠ¨ç”»åº”ç”¨ - SVGå­¦ä¹ ç¤ºä¾‹</title>
    <link rel="stylesheet" href="../../common/styles.css">
    <link rel="stylesheet" href="../../common/demo.css">
    <style>
        .demo-svg {
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
            overflow: visible;
        }
        
        /* CSSè¿‡æ¸¡åŠ¨ç”» */
        .transition-hover {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .transition-hover:hover {
            transform: scale(1.2);
            fill: #FF5722;
        }
        
        /* æ—‹è½¬åŠ¨ç”» */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .rotate-animation {
            animation: rotate 3s linear infinite;
            transform-origin: center;
        }
        
        /* è„‰å†²åŠ¨ç”» */
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
        }
        .pulse-animation {
            animation: pulse 2s ease-in-out infinite;
            transform-origin: center;
        }
        
        /* å¼¹è·³åŠ¨ç”» */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .bounce-animation {
            animation: bounce 1.5s ease-in-out infinite;
        }
        
        /* è·¯å¾„åŠ¨ç”» */
        @keyframes pathDraw {
            0% { stroke-dashoffset: 100; }
            100% { stroke-dashoffset: 0; }
        }
        .path-draw {
            stroke-dasharray: 100;
            animation: pathDraw 3s ease-in-out infinite;
        }
        
        /* å¤æ‚ç»„åˆåŠ¨ç”» */
        @keyframes complexMove {
            0% { transform: translateX(0) rotate(0deg) scale(1); }
            25% { transform: translateX(50px) rotate(90deg) scale(1.2); }
            50% { transform: translateX(50px) translateY(-30px) rotate(180deg) scale(0.8); }
            75% { transform: translateX(0) translateY(-30px) rotate(270deg) scale(1.2); }
            100% { transform: translateX(0) rotate(360deg) scale(1); }
        }
        .complex-animation {
            animation: complexMove 4s ease-in-out infinite;
            transform-origin: center;
        }
    </style>
</head>
<body class="demo-page">
    <div class="demo-header">
        <div class="container">
            <nav class="breadcrumb">
                <ol class="breadcrumb-list">
                    <li class="breadcrumb-item"><a href="../../index.html">ç¤ºä¾‹é¦–é¡µ</a></li>
                    <li class="breadcrumb-item"><a href="../index.html">åŠ¨ç”»ä¸äº¤äº’</a></li>
                    <li class="breadcrumb-item active">CSSåŠ¨ç”»åº”ç”¨</li>
                </ol>
            </nav>
            <h1 class="demo-title">CSSåŠ¨ç”»åº”ç”¨</h1>
            <p class="demo-subtitle">å­¦ä¹ åœ¨SVGä¸­ä½¿ç”¨CSSåŠ¨ç”»åˆ›å»ºæµç•…çš„è¿‡æ¸¡æ•ˆæœå’Œå…³é”®å¸§åŠ¨ç”»</p>
        </div>
    </div>

    <div class="container">
        <div class="demo-main">
            <div class="demo-content">
                <!-- CSSè¿‡æ¸¡åŠ¨ç”» -->
                <div class="card">
                    <h2>ğŸ¯ CSSè¿‡æ¸¡åŠ¨ç”»</h2>
                    <p>ä½¿ç”¨CSS transitionå±æ€§ä¸ºSVGå…ƒç´ æ·»åŠ å¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœã€‚</p>
                    
                    <div class="grid grid-3">
                        <div>
                            <h3>æ‚¬åœå˜æ¢</h3>
                            <div class="svg-example">
                                <svg width="150" height="100" viewBox="0 0 150 100" class="demo-svg">
                                    <circle cx="75" cy="50" r="20" fill="#2196F3" class="transition-hover"/>
                                    <text x="75" y="85" text-anchor="middle" font-size="12" fill="#666">æ‚¬åœè¯•è¯•</text>
                                </svg>
                            </div>
                            <div class="code-editor">
                                <div class="code-content">transition: all 0.3s ease;</div>
                            </div>
                        </div>
                        
                        <div>
                            <h3>é¢œè‰²è¿‡æ¸¡</h3>
                            <div class="svg-example">
                                <svg width="150" height="100" viewBox="0 0 150 100" class="demo-svg">
                                    <style>
                                        .color-transition {
                                            fill: #4CAF50;
                                            transition: fill 0.5s ease;
                                            cursor: pointer;
                                        }
                                        .color-transition:hover {
                                            fill: #FF9800;
                                        }
                                    </style>
                                    <rect x="50" y="30" width="50" height="30" class="color-transition"/>
                                    <text x="75" y="75" text-anchor="middle" font-size="12" fill="#666">é¢œè‰²è¿‡æ¸¡</text>
                                </svg>
                            </div>
                            <div class="code-editor">
                                <div class="code-content">transition: fill 0.5s ease;</div>
                            </div>
                        </div>
                        
                        <div>
                            <h3>æè¾¹è¿‡æ¸¡</h3>
                            <div class="svg-example">
                                <svg width="150" height="100" viewBox="0 0 150 100" class="demo-svg">
                                    <style>
                                        .stroke-transition {
                                            fill: none;
                                            stroke: #9C27B0;
                                            stroke-width: 2;
                                            transition: stroke-width 0.3s ease, stroke 0.3s ease;
                                            cursor: pointer;
                                        }
                                        .stroke-transition:hover {
                                            stroke: #E91E63;
                                            stroke-width: 6;
                                        }
                                    </style>
                                    <polygon points="75,20 95,50 75,80 55,50" class="stroke-transition"/>
                                    <text x="75" y="95" text-anchor="middle" font-size="12" fill="#666">æè¾¹è¿‡æ¸¡</text>
                                </svg>
                            </div>
                            <div class="code-editor">
                                <div class="code-content">transition: stroke-width 0.3s;</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å…³é”®å¸§åŠ¨ç”» -->
                <div class="card">
                    <h2>ğŸ¬ å…³é”®å¸§åŠ¨ç”»</h2>
                    <p>ä½¿ç”¨CSS @keyframesåˆ›å»ºå¤æ‚çš„å¾ªç¯åŠ¨ç”»æ•ˆæœã€‚</p>
                    
                    <div class="grid grid-4">
                        <div>
                            <h3>æ—‹è½¬åŠ¨ç”»</h3>
                            <div class="svg-example">
                                <svg width="120" height="80" viewBox="0 0 120 80" class="demo-svg">
                                    <rect x="45" y="25" width="30" height="30" fill="#FF5722" class="rotate-animation"/>
                                </svg>
                            </div>
                            <div class="code-editor">
                                <div class="code-content">rotate 3s linear infinite</div>
                            </div>
                        </div>
                        
                        <div>
                            <h3>è„‰å†²åŠ¨ç”»</h3>
                            <div class="svg-example">
                                <svg width="120" height="80" viewBox="0 0 120 80" class="demo-svg">
                                    <circle cx="60" cy="40" r="15" fill="#2196F3" class="pulse-animation"/>
                                </svg>
                            </div>
                            <div class="code-editor">
                                <div class="code-content">pulse 2s ease-in-out infinite</div>
                            </div>
                        </div>
                        
                        <div>
                            <h3>å¼¹è·³åŠ¨ç”»</h3>
                            <div class="svg-example">
                                <svg width="120" height="80" viewBox="0 0 120 80" class="demo-svg">
                                    <circle cx="60" cy="55" r="12" fill="#4CAF50" class="bounce-animation"/>
                                </svg>
                            </div>
                            <div class="code-editor">
                                <div class="code-content">bounce 1.5s ease-in-out infinite</div>
                            </div>
                        </div>
                        
                        <div>
                            <h3>è·¯å¾„ç»˜åˆ¶</h3>
                            <div class="svg-example">
                                <svg width="120" height="80" viewBox="0 0 120 80" class="demo-svg">
                                    <path d="M20,40 Q60,20 100,40 T100,60" fill="none" stroke="#FF9800" stroke-width="3" class="path-draw"/>
                                </svg>
                            </div>
                            <div class="code-editor">
                                <div class="code-content">stroke-dasharray animation</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å˜æ¢åŠ¨ç”» -->
                <div class="card">
                    <h2>ğŸ”„ å˜æ¢åŠ¨ç”»</h2>
                    <p>ä½¿ç”¨CSS transformå±æ€§åˆ›å»ºç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰å˜æ¢åŠ¨ç”»ã€‚</p>
                    
                    <div class="svg-example">
                        <svg width="100%" height="200" viewBox="0 0 400 200" class="demo-svg">
                            <style>
                                @keyframes slideRight {
                                    0% { transform: translateX(0); }
                                    100% { transform: translateX(300px); }
                                }
                                @keyframes scaleUp {
                                    0%, 100% { transform: scale(1); }
                                    50% { transform: scale(1.5); }
                                }
                                @keyframes rotateY {
                                    0% { transform: rotateY(0deg); }
                                    100% { transform: rotateY(360deg); }
                                }
                                @keyframes colorShift {
                                    0% { fill: #FF5722; }
                                    25% { fill: #2196F3; }
                                    50% { fill: #4CAF50; }
                                    75% { fill: #FF9800; }
                                    100% { fill: #FF5722; }
                                }
                                
                                .slide-animation {
                                    animation: slideRight 3s ease-in-out infinite alternate;
                                }
                                .scale-animation {
                                    animation: scaleUp 2s ease-in-out infinite;
                                    transform-origin: center;
                                }
                                .rotate-y-animation {
                                    animation: rotateY 4s linear infinite;
                                }
                                .color-animation {
                                    animation: colorShift 3s ease-in-out infinite;
                                }
                            </style>
                            
                            <circle cx="40" cy="50" r="15" fill="#FF5722" class="slide-animation"/>
                            <text x="40" y="80" text-anchor="middle" font-size="12" fill="#666">æ»‘åŠ¨</text>
                            
                            <circle cx="40" cy="120" r="15" fill="#2196F3" class="scale-animation"/>
                            <text x="40" y="150" text-anchor="middle" font-size="12" fill="#666">ç¼©æ”¾</text>
                            
                            <rect x="25" y="30" width="30" height="20" fill="#4CAF50" class="rotate-y-animation"/>
                            <text x="200" y="25" text-anchor="middle" font-size="12" fill="#666">3Dæ—‹è½¬</text>
                            
                            <polygon points="200,80 220,120 180,120" class="color-animation"/>
                            <text x="200" y="140" text-anchor="middle" font-size="12" fill="#666">é¢œè‰²å˜æ¢</text>
                        </svg>
                    </div>
                </div>

                <!-- å¤æ‚ç»„åˆåŠ¨ç”» -->
                <div class="card">
                    <h2>ğŸ­ å¤æ‚ç»„åˆåŠ¨ç”»</h2>
                    <p>ç»„åˆå¤šç§åŠ¨ç”»æ•ˆæœï¼Œåˆ›å»ºå¤æ‚çš„è§†è§‰è¡¨ç°ã€‚</p>
                    
                    <div class="svg-example">
                        <svg width="100%" height="200" viewBox="0 0 400 200" class="demo-svg">
                            <style>
                                @keyframes orbit {
                                    0% { transform: rotate(0deg) translateX(60px) rotate(0deg); }
                                    100% { transform: rotate(360deg) translateX(60px) rotate(-360deg); }
                                }
                                @keyframes morphing {
                                    0%, 100% { 
                                        d: path("M200,100 L220,80 L240,100 L220,120 Z");
                                        fill: #FF5722;
                                    }
                                    25% { 
                                        d: path("M200,100 L230,90 L240,110 L210,110 Z");
                                        fill: #2196F3;
                                    }
                                    50% { 
                                        d: path("M200,100 L235,85 L245,105 L205,115 Z");
                                        fill: #4CAF50;
                                    }
                                    75% { 
                                        d: path("M200,100 L225,85 L235,105 L215,115 Z");
                                        fill: #FF9800;
                                    }
                                }
                                
                                .orbit-center {
                                    fill: #FFD700;
                                }
                                .orbit-planet {
                                    animation: orbit 4s linear infinite;
                                    transform-origin: 200px 100px;
                                }
                                .morph-shape {
                                    animation: morphing 3s ease-in-out infinite;
                                }
                            </style>
                            
                            <!-- è½¨é“åŠ¨ç”» -->
                            <g>
                                <circle cx="200" cy="100" r="60" fill="none" stroke="#ddd" stroke-width="1" stroke-dasharray="3,3"/>
                                <circle cx="200" cy="100" r="8" class="orbit-center"/>
                                <circle cx="260" cy="100" r="5" fill="#FF5722" class="orbit-planet"/>
                                <text x="200" y="180" text-anchor="middle" font-size="12" fill="#666">è½¨é“åŠ¨ç”»</text>
                            </g>
                            
                            <!-- å½¢çŠ¶å˜å½¢åŠ¨ç”» -->
                            <g>
                                <path d="M350,100 L370,80 L390,100 L370,120 Z" class="morph-shape"/>
                                <text x="370" y="140" text-anchor="middle" font-size="12" fill="#666">å½¢çŠ¶å˜å½¢</text>
                            </g>
                            
                            <!-- å¤æ‚ç»„åˆåŠ¨ç”» -->
                            <circle cx="80" cy="100" r="12" fill="#9C27B0" class="complex-animation"/>
                            <text x="80" y="140" text-anchor="middle" font-size="12" fill="#666">å¤æ‚ç»„åˆ</text>
                        </svg>
                    </div>
                </div>

                <!-- åŠ¨ç”»æ€§èƒ½ä¼˜åŒ– -->
                <div class="card">
                    <h2>âš¡ åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–</h2>
                    <p>æŒæ¡CSSåŠ¨ç”»çš„æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œåˆ›å»ºæµç•…çš„åŠ¨ç”»æ•ˆæœã€‚</p>
                    
                    <div class="grid grid-2">
                        <div>
                            <h3>ä½¿ç”¨transformè€Œéä½ç½®å±æ€§</h3>
                            <div class="svg-example">
                                <svg width="200" height="120" viewBox="0 0 200 120" class="demo-svg">
                                    <style>
                                        .bad-performance {
                                            animation: badMove 2s linear infinite alternate;
                                        }
                                        .good-performance {
                                            animation: goodMove 2s linear infinite alternate;
                                        }
                                        @keyframes badMove {
                                            0% { x: 20; }
                                            100% { x: 120; }
                                        }
                                        @keyframes goodMove {
                                            0% { transform: translateX(0); }
                                            100% { transform: translateX(100px); }
                                        }
                                    </style>
                                    <circle cx="30" cy="40" r="8" fill="#FF5722" class="bad-performance"/>
                                    <text x="30" y="60" font-size="10" fill="#666">ä½¿ç”¨xå±æ€§ (æ…¢)</text>
                                    
                                    <circle cx="30" cy="80" r="8" fill="#4CAF50" class="good-performance"/>
                                    <text x="30" y="100" font-size="10" fill="#666">ä½¿ç”¨transform (å¿«)</text>
                                </svg>
                            </div>
                        </div>
                        
                        <div>
                            <h3>will-changeä¼˜åŒ–</h3>
                            <div class="svg-example">
                                <svg width="200" height="120" viewBox="0 0 200 120" class="demo-svg">
                                    <style>
                                        .optimized-animation {
                                            will-change: transform;
                                            animation: optimizedRotate 2s linear infinite;
                                            transform-origin: center;
                                        }
                                        @keyframes optimizedRotate {
                                            from { transform: rotate(0deg); }
                                            to { transform: rotate(360deg); }
                                        }
                                    </style>
                                    <rect x="85" y="45" width="30" height="30" fill="#2196F3" class="optimized-animation"/>
                                    <text x="100" y="90" text-anchor="middle" font-size="10" fill="#666">GPUåŠ é€Ÿ</text>
                                </svg>
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert alert-info">
                        <strong>æ€§èƒ½æç¤ºï¼š</strong>
                        <ul>
                            <li>ä¼˜å…ˆä½¿ç”¨ transform å’Œ opacity å±æ€§</li>
                            <li>ä½¿ç”¨ will-change å£°æ˜è¦å˜åŒ–çš„å±æ€§</li>
                            <li>é¿å…é¢‘ç¹ä¿®æ”¹å¸ƒå±€ç›¸å…³å±æ€§</li>
                            <li>åˆç†ä½¿ç”¨ animation-fill-mode</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ä¾§è¾¹æ äº¤äº’æ§åˆ¶å™¨ -->
            <div class="demo-sidebar">
                <h3>ğŸ® CSSåŠ¨ç”»ç¼–è¾‘å™¨</h3>
                <div class="interactive-controls">
                    <div class="control-section">
                        <h4>åŠ¨ç”»ç±»å‹</h4>
                        <div class="control-row">
                            <label class="control-label">åŠ¨ç”»ç±»å‹</label>
                            <select id="animationType" class="control-input">
                                <option value="none">æ— åŠ¨ç”»</option>
                                <option value="rotate">æ—‹è½¬</option>
                                <option value="scale">ç¼©æ”¾</option>
                                <option value="translate">å¹³ç§»</option>
                                <option value="pulse">è„‰å†²</option>
                                <option value="bounce">å¼¹è·³</option>
                            </select>
                        </div>
                        <div class="control-row">
                            <label class="control-label">åŠ¨ç”»æ—¶é•¿(ç§’)</label>
                            <input type="range" id="animationDuration" class="control-input range-input" min="0.5" max="5" step="0.1" value="2">
                            <span id="durationValue">2.0s</span>
                        </div>
                        <div class="control-row">
                            <label class="control-label">ç¼“åŠ¨å‡½æ•°</label>
                            <select id="animationEasing" class="control-input">
                                <option value="linear">linear</option>
                                <option value="ease">ease</option>
                                <option value="ease-in">ease-in</option>
                                <option value="ease-out">ease-out</option>
                                <option value="ease-in-out">ease-in-out</option>
                            </select>
                        </div>
                        <div class="control-row">
                            <label class="control-label">å¾ªç¯æ¬¡æ•°</label>
                            <select id="animationIteration" class="control-input">
                                <option value="1">1æ¬¡</option>
                                <option value="3">3æ¬¡</option>
                                <option value="infinite">æ— é™å¾ªç¯</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="control-section">
                        <h4>å½¢çŠ¶å±æ€§</h4>
                        <div class="control-row">
                            <label class="control-label">å½¢çŠ¶</label>
                            <select id="shapeType" class="control-input">
                                <option value="circle">åœ†å½¢</option>
                                <option value="rect">çŸ©å½¢</option>
                                <option value="polygon">å¤šè¾¹å½¢</option>
                            </select>
                        </div>
                        <div class="control-row">
                            <label class="control-label">é¢œè‰²</label>
                            <input type="color" id="shapeColor" class="control-input color-input" value="#2196F3">
                        </div>
                    </div>
                    
                    <div class="control-section">
                        <h4>åŠ¨ç”»æ§åˆ¶</h4>
                        <div class="control-row">
                            <button id="playPause" class="btn btn-primary">æš‚åœ</button>
                            <button id="restart" class="btn">é‡å¯</button>
                        </div>
                    </div>
                </div>

                <div class="svg-display has-content">
                    <svg id="demoSVG" width="200" height="150" viewBox="0 0 200 150">
                        <style id="dynamicAnimation">
                            .demo-shape {
                                animation: none;
                            }
                        </style>
                        <circle id="demoShape" cx="100" cy="75" r="20" fill="#2196F3" class="demo-shape"/>
                        <text x="100" y="125" text-anchor="middle" font-size="12" fill="#666">åŠ¨ç”»é¢„è§ˆ</text>
                    </svg>
                </div>

                <div class="code-editor">
                    <div class="code-header">
                        <div class="code-title">ç”Ÿæˆçš„CSSä»£ç </div>
                        <div class="code-actions">
                            <button class="code-btn" onclick="copyAnimationCode()">å¤åˆ¶</button>
                        </div>
                    </div>
                    <div class="code-content" id="animationCode">æ— åŠ¨ç”»</div>
                </div>
            </div>
        </div>

        <!-- å¯¼èˆª -->
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <a href="../index.html" class="btn">â† è¿”å›åŠ¨ç”»ä¸äº¤äº’</a>
                <a href="../smil-animations/" class="btn btn-primary">ä¸‹ä¸€ç« ï¼šSMILåŠ¨ç”»ç³»ç»Ÿ â†’</a>
            </div>
        </div>
    </div>

    <script src="../../common/utils.js"></script>
    <script>
        // CSSåŠ¨ç”»ç¼–è¾‘å™¨
        const animationType = document.getElementById('animationType');
        const animationDuration = document.getElementById('animationDuration');
        const durationValue = document.getElementById('durationValue');
        const animationEasing = document.getElementById('animationEasing');
        const animationIteration = document.getElementById('animationIteration');
        const shapeType = document.getElementById('shapeType');
        const shapeColor = document.getElementById('shapeColor');
        const playPause = document.getElementById('playPause');
        const restart = document.getElementById('restart');
        const dynamicAnimation = document.getElementById('dynamicAnimation');
        const demoShape = document.getElementById('demoShape');
        const animationCode = document.getElementById('animationCode');
        
        let isPlaying = true;

        function updateAnimation() {
            const type = animationType.value;
            const duration = animationDuration.value;
            const easing = animationEasing.value;
            const iteration = animationIteration.value;
            const shape = shapeType.value;
            const color = shapeColor.value;
            
            // æ›´æ–°æ—¶é•¿æ˜¾ç¤º
            durationValue.textContent = duration + 's';
            
            // æ›´æ–°å½¢çŠ¶
            updateShape(shape, color);
            
            // ç”ŸæˆåŠ¨ç”»CSS
            let animationCSS = '';
            let keyframes = '';
            
            if (type !== 'none') {
                const animationName = `demo${type}`;
                
                switch (type) {
                    case 'rotate':
                        keyframes = `@keyframes ${animationName} {
                            from { transform: rotate(0deg); }
                            to { transform: rotate(360deg); }
                        }`;
                        break;
                    case 'scale':
                        keyframes = `@keyframes ${animationName} {
                            0%, 100% { transform: scale(1); }
                            50% { transform: scale(1.5); }
                        }`;
                        break;
                    case 'translate':
                        keyframes = `@keyframes ${animationName} {
                            0% { transform: translateX(0); }
                            50% { transform: translateX(50px); }
                            100% { transform: translateX(0); }
                        }`;
                        break;
                    case 'pulse':
                        keyframes = `@keyframes ${animationName} {
                            0%, 100% { transform: scale(1); opacity: 1; }
                            50% { transform: scale(1.3); opacity: 0.7; }
                        }`;
                        break;
                    case 'bounce':
                        keyframes = `@keyframes ${animationName} {
                            0%, 100% { transform: translateY(0); }
                            50% { transform: translateY(-20px); }
                        }`;
                        break;
                }
                
                animationCSS = `.demo-shape {
                    animation: ${animationName} ${duration}s ${easing} ${iteration};
                    transform-origin: center;
                }`;
            } else {
                animationCSS = '.demo-shape { animation: none; }';
            }
            
            // åº”ç”¨åŠ¨ç”»
            dynamicAnimation.textContent = keyframes + '\n' + animationCSS;
            
            // æ›´æ–°ä»£ç æ˜¾ç¤º
            if (type !== 'none') {
                animationCode.textContent = keyframes + '\n\n' + animationCSS;
            } else {
                animationCode.textContent = 'æ— åŠ¨ç”»';
            }
        }
        
        function updateShape(shape, color) {
            const svg = demoShape.parentNode;
            const oldShape = demoShape;
            let newShape;
            
            switch (shape) {
                case 'circle':
                    newShape = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    newShape.setAttribute('cx', '100');
                    newShape.setAttribute('cy', '75');
                    newShape.setAttribute('r', '20');
                    break;
                case 'rect':
                    newShape = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    newShape.setAttribute('x', '80');
                    newShape.setAttribute('y', '55');
                    newShape.setAttribute('width', '40');
                    newShape.setAttribute('height', '40');
                    break;
                case 'polygon':
                    newShape = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    newShape.setAttribute('points', '100,55 120,85 80,85');
                    break;
            }
            
            newShape.setAttribute('id', 'demoShape');
            newShape.setAttribute('fill', color);
            newShape.setAttribute('class', 'demo-shape');
            
            svg.replaceChild(newShape, oldShape);
            window.demoShape = newShape;
        }
        
        function togglePlayPause() {
            if (isPlaying) {
                demoShape.style.animationPlayState = 'paused';
                playPause.textContent = 'æ’­æ”¾';
                isPlaying = false;
            } else {
                demoShape.style.animationPlayState = 'running';
                playPause.textContent = 'æš‚åœ';
                isPlaying = true;
            }
        }
        
        function restartAnimation() {
            demoShape.style.animation = 'none';
            setTimeout(() => {
                updateAnimation();
                if (!isPlaying) {
                    demoShape.style.animationPlayState = 'paused';
                }
            }, 10);
        }

        function copyAnimationCode() {
            navigator.clipboard.writeText(animationCode.textContent).then(() => {
                document.querySelector('.code-actions .code-btn').textContent = 'å·²å¤åˆ¶!';
                setTimeout(() => {
                    document.querySelector('.code-actions .code-btn').textContent = 'å¤åˆ¶';
                }, 2000);
            });
        }

        // ç»‘å®šäº‹ä»¶
        [animationType, animationDuration, animationEasing, animationIteration, shapeType, shapeColor].forEach(element => {
            element.addEventListener('input', updateAnimation);
            element.addEventListener('change', updateAnimation);
        });
        
        playPause.addEventListener('click', togglePlayPause);
        restart.addEventListener('click', restartAnimation);

        // åˆå§‹åŒ–
        updateAnimation();
    </script>
</body>
</html> 