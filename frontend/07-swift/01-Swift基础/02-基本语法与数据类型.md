# SwiftåŸºæœ¬è¯­æ³•ä¸æ•°æ®ç±»å‹

## ğŸ“– æ¦‚è¿°

æœ¬ç« èŠ‚ä»‹ç»Swiftè¯­è¨€çš„åŸºæœ¬è¯­æ³•è§„åˆ™å’Œæ•°æ®ç±»å‹ç³»ç»Ÿï¼Œè¿™æ˜¯æŒæ¡Swiftç¼–ç¨‹çš„åŸºç¡€ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

- æŒæ¡Swiftçš„å˜é‡å’Œå¸¸é‡å£°æ˜
- ç†è§£Swiftçš„ç±»å‹ç³»ç»Ÿå’Œç±»å‹æ¨æ–­
- ç†Ÿç»ƒä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹
- æŒæ¡å­—ç¬¦ä¸²æ“ä½œå’Œé›†åˆç±»å‹
- ç†è§£ç±»å‹å®‰å…¨å’Œç±»å‹è½¬æ¢

## ğŸ”¤ å˜é‡å’Œå¸¸é‡

### åŸºæœ¬å£°æ˜

```swift
// å¸¸é‡ - å€¼ä¸€æ—¦è®¾å®šä¸èƒ½æ”¹å˜
let constantValue = 42
let pi = 3.14159
let appName = "æˆ‘çš„åº”ç”¨"

// å˜é‡ - å€¼å¯ä»¥æ”¹å˜
var score = 0
var playerName = "ç©å®¶1"
var isGameRunning = true

// ä½¿ç”¨å˜é‡
score = 100
playerName = "é«˜çº§ç©å®¶"
isGameRunning = false
```

### ç±»å‹æ³¨è§£

```swift
// æ˜¾å¼ç±»å‹å£°æ˜
let explicitDouble: Double = 70.0
let explicitFloat: Float = 4.0
let explicitString: String = "Hello"

// å¤šä¸ªå˜é‡åŒæ—¶å£°æ˜
var red, green, blue: Double

// æ¨èåšæ³•ï¼šè®©Swiftè¿›è¡Œç±»å‹æ¨æ–­
let inferredDouble = 70.0    // Swiftæ¨æ–­ä¸ºDouble
let inferredInteger = 42     // Swiftæ¨æ–­ä¸ºInt
```

### å‘½åè§„åˆ™

```swift
// âœ… æ¨èçš„å‘½åæ–¹å¼
let userName = "å¼ ä¸‰"
let maxSpeed = 120
let isUserLoggedIn = true

// âœ… å¯ä»¥ä½¿ç”¨Unicodeå­—ç¬¦
let ç”¨æˆ·å = "æå››"
let Ï€ = 3.14159
let ğŸ® = "æ¸¸æˆ"

// âŒ é¿å…çš„å‘½åæ–¹å¼
let user_name = "ä¸æ¨è"    // ä¸‹åˆ’çº¿åˆ†éš”
let MAX_SPEED = 120        // å…¨å¤§å†™å¸¸é‡
```

## ğŸ“Š åŸºæœ¬æ•°æ®ç±»å‹

### æ•´æ•°ç±»å‹

```swift
// æœ‰ç¬¦å·æ•´æ•°
let int8Value: Int8 = 127        // -128 åˆ° 127
let int16Value: Int16 = 32767    // -32768 åˆ° 32767
let int32Value: Int32 = 2147483647
let int64Value: Int64 = 9223372036854775807

// æ— ç¬¦å·æ•´æ•°
let uint8Value: UInt8 = 255      // 0 åˆ° 255
let uint16Value: UInt16 = 65535  // 0 åˆ° 65535

// å¹³å°ç›¸å…³æ•´æ•°ç±»å‹
let intValue: Int = 100          // 64ä½å¹³å°ä¸Šç­‰åŒäºInt64
let uintValue: UInt = 100        // 64ä½å¹³å°ä¸Šç­‰åŒäºUInt64

// è·å–ç±»å‹èŒƒå›´
print("Intçš„æœ€å°å€¼: \(Int.min)")
print("Intçš„æœ€å¤§å€¼: \(Int.max)")
print("UInt8çš„æœ€å¤§å€¼: \(UInt8.max)")
```

### æµ®ç‚¹æ•°ç±»å‹

```swift
// Double - 64ä½æµ®ç‚¹æ•° (æ¨è)
let doubleValue: Double = 3.14159265359
let scientificNotation: Double = 1.25e2    // 125.0
let hexFloat: Double = 0xFp2               // 15 * 2^2 = 60.0

// Float - 32ä½æµ®ç‚¹æ•°
let floatValue: Float = 3.14

// æ¯”è¾ƒæµ®ç‚¹æ•°
let a = 0.1 + 0.2
let b = 0.3
if abs(a - b) < 0.000001 {
    print("æ•°å€¼ç›¸ç­‰")
}
```

### å¸ƒå°”ç±»å‹

```swift
let isSwiftFun = true
let isRaining = false

// å¸ƒå°”å€¼åœ¨æ¡ä»¶è¯­å¥ä¸­çš„ä½¿ç”¨
if isSwiftFun {
    print("Swiftå¾ˆæœ‰è¶£ï¼")
}

// é€»è¾‘è¿ç®—
let isSunny = !isRaining           // é€»è¾‘é
let isGoodWeather = isSunny && !isRaining  // é€»è¾‘ä¸
let shouldStayHome = isRaining || !isSunny // é€»è¾‘æˆ–
```

## ğŸ“ å­—ç¬¦ä¸²å’Œå­—ç¬¦

### å­—ç¬¦ä¸²åŸºç¡€

```swift
// å­—ç¬¦ä¸²å­—é¢é‡
let singleLineString = "è¿™æ˜¯ä¸€ä¸ªå•è¡Œå­—ç¬¦ä¸²"
let multiLineString = """
è¿™æ˜¯ä¸€ä¸ª
å¤šè¡Œå­—ç¬¦ä¸²
å¯ä»¥åŒ…å«æ¢è¡Œ
"""

// ç©ºå­—ç¬¦ä¸²
let emptyString = ""
let anotherEmptyString = String()

// æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º
if emptyString.isEmpty {
    print("å­—ç¬¦ä¸²ä¸ºç©º")
}
```

### å­—ç¬¦ä¸²æ’å€¼

```swift
let name = "Swift"
let version = 5.9
let description = "æˆ‘æ­£åœ¨å­¦ä¹  \(name) \(version)"

// å¤æ‚æ’å€¼
let score = 95
let percentage = Double(score) / 100.0
let report = "æˆç»©ï¼š\(score)åˆ†ï¼Œç™¾åˆ†æ¯”ï¼š\(String(format: "%.1f", percentage * 100))%"

// ä½¿ç”¨è½¬ä¹‰å­—ç¬¦
let quote = "ä»–è¯´ï¼š\"å­¦ä¹ Swiftå¾ˆæœ‰è¶£ï¼\""
let path = "Users\\Documents\\file.txt"  // Windowsè·¯å¾„
```

### å­—ç¬¦ä¸²æ“ä½œ

```swift
var greeting = "Hello"
greeting += " World"        // å­—ç¬¦ä¸²è¿æ¥
greeting.append("!")        // æ·»åŠ å­—ç¬¦

// å­—ç¬¦ä¸²å±æ€§
print("å­—ç¬¦ä¸²é•¿åº¦ï¼š\(greeting.count)")
print("æ˜¯å¦ä¸ºç©ºï¼š\(greeting.isEmpty)")

// å­—ç¬¦ä¸²æ–¹æ³•
let uppercased = greeting.uppercased()      // "HELLO WORLD!"
let lowercased = greeting.lowercased()      // "hello world!"
let hasPrefix = greeting.hasPrefix("Hello") // true
let hasSuffix = greeting.hasSuffix("!")     // true

// å­å­—ç¬¦ä¸²æ“ä½œ
let sentence = "Swiftç¼–ç¨‹å¾ˆæœ‰è¶£"
let index = sentence.index(sentence.startIndex, offsetBy: 5)
let prefix = sentence[..<index]             // "Swift"
let suffix = sentence[index...]             // "ç¼–ç¨‹å¾ˆæœ‰è¶£"
```

### å­—ç¬¦æ“ä½œ

```swift
// å­—ç¬¦ç±»å‹
let exclamationMark: Character = "!"
let catCharacter: Character = "ğŸ±"

// éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦
for character in "Hello" {
    print(character)
}

// å­—ç¬¦æ•°ç»„æ„å»ºå­—ç¬¦ä¸²
let characters: [Character] = ["S", "w", "i", "f", "t"]
let stringFromChars = String(characters)
```

## ğŸ“š é›†åˆç±»å‹

### æ•°ç»„ (Array)

```swift
// æ•°ç»„å£°æ˜
var shoppingList = ["é¸¡è›‹", "ç‰›å¥¶", "é¢åŒ…"]
var scores: [Int] = [95, 87, 92, 100]
var emptyArray = [String]()
var anotherEmptyArray: [Int] = []

// æ•°ç»„æ“ä½œ
shoppingList.append("è‹¹æœ")                    // æ·»åŠ å…ƒç´ 
shoppingList.insert("é¦™è•‰", at: 1)            // æ’å…¥å…ƒç´ 
let removedItem = shoppingList.remove(at: 0)  // ç§»é™¤å…ƒç´ 
shoppingList[1] = "æ©™å­"                      // ä¿®æ”¹å…ƒç´ 

// æ•°ç»„å±æ€§å’Œæ–¹æ³•
print("è´­ç‰©æ¸…å•æœ‰ \(shoppingList.count) é¡¹")
print("æ˜¯å¦ä¸ºç©ºï¼š\(shoppingList.isEmpty)")
print("ç¬¬ä¸€é¡¹ï¼š\(shoppingList.first ?? "æ— ")")
print("æœ€åä¸€é¡¹ï¼š\(shoppingList.last ?? "æ— ")")

// æ•°ç»„éå†
for item in shoppingList {
    print("è´­ç‰©é¡¹ï¼š\(item)")
}

for (index, item) in shoppingList.enumerated() {
    print("\(index + 1): \(item)")
}

// æ•°ç»„åˆå¹¶
let fruits = ["è‹¹æœ", "é¦™è•‰"]
let vegetables = ["èƒ¡èåœ", "è èœ"]
let groceries = fruits + vegetables
```

### å­—å…¸ (Dictionary)

```swift
// å­—å…¸å£°æ˜
var studentGrades = ["å¼ ä¸‰": 95, "æå››": 87, "ç‹äº”": 92]
var emptyDict = [String: Int]()
var airports: [String: String] = [
    "PEK": "åŒ—äº¬é¦–éƒ½å›½é™…æœºåœº",
    "PVG": "ä¸Šæµ·æµ¦ä¸œå›½é™…æœºåœº",
    "CAN": "å¹¿å·ç™½äº‘å›½é™…æœºåœº"
]

// å­—å…¸æ“ä½œ
studentGrades["èµµå…­"] = 88              // æ·»åŠ æ–°é”®å€¼å¯¹
studentGrades["å¼ ä¸‰"] = 98              // æ›´æ–°ç°æœ‰å€¼
let removedGrade = studentGrades.removeValue(forKey: "æå››")

// å®‰å…¨è®¿é—®
if let grade = studentGrades["å¼ ä¸‰"] {
    print("å¼ ä¸‰çš„æˆç»©ï¼š\(grade)")
} else {
    print("æœªæ‰¾åˆ°å¼ ä¸‰çš„æˆç»©")
}

// å­—å…¸å±æ€§
print("å­¦ç”Ÿäººæ•°ï¼š\(studentGrades.count)")
print("æ˜¯å¦ä¸ºç©ºï¼š\(studentGrades.isEmpty)")

// éå†å­—å…¸
for (name, grade) in studentGrades {
    print("\(name): \(grade)åˆ†")
}

// åˆ†åˆ«éå†é”®å’Œå€¼
for name in studentGrades.keys {
    print("å­¦ç”Ÿï¼š\(name)")
}

for grade in studentGrades.values {
    print("æˆç»©ï¼š\(grade)")
}
```

### é›†åˆ (Set)

```swift
// é›†åˆå£°æ˜
var colors: Set<String> = ["çº¢", "ç»¿", "è“"]
var emptySet = Set<Int>()
var numbers: Set = [1, 2, 3, 4, 5]  // ç±»å‹æ¨æ–­

// é›†åˆæ“ä½œ
colors.insert("é»„")                    // æ·»åŠ å…ƒç´ 
let removedColor = colors.remove("çº¢") // ç§»é™¤å…ƒç´ 
let hasBlue = colors.contains("è“")    // æ£€æŸ¥å…ƒç´ 

// é›†åˆè¿ç®—
let primaryColors: Set = ["çº¢", "è“", "é»„"]
let secondaryColors: Set = ["æ©™", "ç»¿", "ç´«"]
let warmColors: Set = ["çº¢", "æ©™", "é»„"]

let union = primaryColors.union(warmColors)                // å¹¶é›†
let intersection = primaryColors.intersection(warmColors)  // äº¤é›†
let subtraction = primaryColors.subtracting(warmColors)    // å·®é›†
let symmetricDifference = primaryColors.symmetricDifference(warmColors) // å¯¹ç§°å·®é›†

// é›†åˆå…³ç³»
let isSubset = warmColors.isSubset(of: primaryColors)      // æ˜¯å¦ä¸ºå­é›†
let isSuperset = primaryColors.isSuperset(of: warmColors)  // æ˜¯å¦ä¸ºè¶…é›†
let isDisjoint = primaryColors.isDisjoint(with: secondaryColors) // æ˜¯å¦ä¸ç›¸äº¤
```

## ğŸ”„ ç±»å‹è½¬æ¢

### æ•°å€¼ç±»å‹è½¬æ¢

```swift
let integerValue = 42
let doubleValue = 3.14159

// æ˜¾å¼ç±»å‹è½¬æ¢
let convertedDouble = Double(integerValue)      // Intè½¬Double
let convertedInt = Int(doubleValue)             // Doubleè½¬Intï¼ˆæˆªæ–­å°æ•°éƒ¨åˆ†ï¼‰

// å­—ç¬¦ä¸²å’Œæ•°å€¼è½¬æ¢
let numberString = "123"
if let number = Int(numberString) {
    print("è½¬æ¢æˆåŠŸï¼š\(number)")
} else {
    print("è½¬æ¢å¤±è´¥")
}

let floatString = "3.14"
let floatValue = Double(floatString) ?? 0.0     // ä½¿ç”¨nilåˆå¹¶è¿ç®—ç¬¦æä¾›é»˜è®¤å€¼

// æ•°å€¼æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²
let price = 99.99
let priceString = String(format: "%.2f", price)   // "99.99"
```

### ç±»å‹æ£€æŸ¥å’Œè½¬æ¢

```swift
// ç±»å‹æ£€æŸ¥ (is)
let items: [Any] = [42, "Hello", 3.14, true]

for item in items {
    if item is Int {
        print("è¿™æ˜¯ä¸€ä¸ªæ•´æ•°")
    } else if item is String {
        print("è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²")
    } else if item is Double {
        print("è¿™æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°")
    }
}

// ç±»å‹è½¬æ¢ (as)
for item in items {
    if let integer = item as? Int {
        print("æ•´æ•°å€¼ï¼š\(integer)")
    } else if let string = item as? String {
        print("å­—ç¬¦ä¸²å€¼ï¼š\(string)")
    }
}
```

## ğŸ›¡ï¸ ç±»å‹å®‰å…¨

### Swiftçš„ç±»å‹å®‰å…¨ç‰¹æ€§

```swift
// âœ… ç±»å‹å®‰å…¨çš„æ“ä½œ
let safeInt: Int = 42
let safeDouble: Double = 3.14

// âŒ ç¼–è¯‘é”™è¯¯ï¼šç±»å‹ä¸åŒ¹é…
// let mixed = safeInt + safeDouble  // ç¼–è¯‘é”™è¯¯

// âœ… æ­£ç¡®çš„åšæ³•ï¼šæ˜¾å¼è½¬æ¢
let result = Double(safeInt) + safeDouble

// âœ… ç±»å‹æ¨æ–­ç¡®ä¿å®‰å…¨
let inferredValue = 42    // Swiftæ¨æ–­ä¸ºInt
let anotherValue = 3.14   // Swiftæ¨æ–­ä¸ºDouble
```

### ç±»å‹åˆ«å

```swift
// å®šä¹‰ç±»å‹åˆ«å
typealias AudioSample = UInt16
typealias StudentGrade = Int
typealias Coordinate = (x: Double, y: Double)

// ä½¿ç”¨ç±»å‹åˆ«å
let maxAmplitude: AudioSample = AudioSample.max
let excellentGrade: StudentGrade = 95
let origin: Coordinate = (x: 0.0, y: 0.0)
```

## ğŸ¯ å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šä¸ªäººä¿¡æ¯ç®¡ç†

```swift
// åˆ›å»ºä¸€ä¸ªç®€å•çš„ä¸ªäººä¿¡æ¯ç³»ç»Ÿ
struct PersonInfo {
    let name: String
    var age: Int
    let hobbies: [String]
    var scores: [String: Int]
}

// åˆ›å»ºå®ä¾‹
var person = PersonInfo(
    name: "å¼ ä¸‰",
    age: 25,
    hobbies: ["é˜…è¯»", "æ¸¸æ³³", "ç¼–ç¨‹"],
    scores: ["æ•°å­¦": 95, "è‹±è¯­": 87, "è®¡ç®—æœº": 92]
)

// æ“ä½œæ•°æ®
person.age += 1
person.scores["ç‰©ç†"] = 89

print("å§“åï¼š\(person.name)")
print("å¹´é¾„ï¼š\(person.age)")
print("çˆ±å¥½ï¼š\(person.hobbies.joined(separator: ", "))")

for (subject, score) in person.scores {
    print("\(subject)ï¼š\(score)åˆ†")
}
```

### ç»ƒä¹ 2ï¼šæ•°æ®ç»Ÿè®¡

```swift
// è®¡ç®—ä¸€ç»„åˆ†æ•°çš„ç»Ÿè®¡ä¿¡æ¯
let scores = [95, 87, 92, 78, 89, 94, 86, 91]

// åŸºæœ¬ç»Ÿè®¡
let count = scores.count
let sum = scores.reduce(0, +)
let average = Double(sum) / Double(count)
let maxScore = scores.max() ?? 0
let minScore = scores.min() ?? 0

print("æ€»åˆ†æ•°ï¼š\(count)")
print("æ€»å’Œï¼š\(sum)")
print("å¹³å‡åˆ†ï¼š\(String(format: "%.1f", average))")
print("æœ€é«˜åˆ†ï¼š\(maxScore)")
print("æœ€ä½åˆ†ï¼š\(minScore)")

// ç­‰çº§ç»Ÿè®¡
var gradeDistribution: [String: Int] = [:]
for score in scores {
    let grade: String
    switch score {
    case 90...100:
        grade = "A"
    case 80..<90:
        grade = "B"
    case 70..<80:
        grade = "C"
    default:
        grade = "D"
    }
    gradeDistribution[grade, default: 0] += 1
}

print("ç­‰çº§åˆ†å¸ƒï¼š")
for (grade, count) in gradeDistribution.sorted(by: { $0.key < $1.key }) {
    print("\(grade)ç­‰ï¼š\(count)äºº")
}
```

## ğŸ“ å°ç»“

### é‡ç‚¹å›é¡¾

1. **å˜é‡ä¸å¸¸é‡**ï¼šä½¿ç”¨`var`å£°æ˜å˜é‡ï¼Œ`let`å£°æ˜å¸¸é‡
2. **ç±»å‹ç³»ç»Ÿ**ï¼šSwiftæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ”¯æŒç±»å‹æ¨æ–­
3. **åŸºæœ¬ç±»å‹**ï¼šIntã€Doubleã€Boolã€Stringã€Character
4. **é›†åˆç±»å‹**ï¼šArrayã€Dictionaryã€Setå„æœ‰ä¸åŒç”¨é€”
5. **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶æ£€æŸ¥ç¡®ä¿ç±»å‹æ­£ç¡®æ€§

### æœ€ä½³å®è·µ

- ä¼˜å…ˆä½¿ç”¨`let`å¸¸é‡ï¼Œåªåœ¨éœ€è¦ä¿®æ”¹æ—¶ä½¿ç”¨`var`
- åˆ©ç”¨ç±»å‹æ¨æ–­ï¼Œé¿å…ä¸å¿…è¦çš„ç±»å‹æ³¨è§£
- é€‰æ‹©åˆé€‚çš„æ•°å€¼ç±»å‹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨`Int`å’Œ`Double`
- åˆç†ä½¿ç”¨é›†åˆç±»å‹ï¼šArrayç”¨äºæœ‰åºæ•°æ®ï¼ŒSetç”¨äºå”¯ä¸€å€¼ï¼ŒDictionaryç”¨äºé”®å€¼å¯¹
- è¿›è¡Œç±»å‹è½¬æ¢æ—¶è€ƒè™‘å¤±è´¥æƒ…å†µï¼Œä½¿ç”¨å¯é€‰ç±»å‹å¤„ç†

## ğŸ”„ ä¸‹ä¸€æ­¥

å®Œæˆæœ¬ç« å­¦ä¹ åï¼Œç»§ç»­å­¦ä¹  [03-æ§åˆ¶æµ](./03-æ§åˆ¶æµ.md) ç« èŠ‚ï¼ŒæŒæ¡æ¡ä»¶è¯­å¥å’Œå¾ªç¯çš„ä½¿ç”¨ã€‚ 